[gd_scene load_steps=9 format=3 uid="uid://csgr7vd17feoo"]

[ext_resource type="Script" uid="uid://ctdrd7vd6cb5i" path="res://scripts/menus/info_panel.gd" id="1_umelf"]
[ext_resource type="PackedScene" uid="uid://cn4lnepleltox" path="res://scenes/markers/circle.tscn" id="2_06pow"]
[ext_resource type="PackedScene" uid="uid://rtittoiwluex" path="res://scenes/menus/game_over_menu.tscn" id="2_wrceg"]
[ext_resource type="PackedScene" uid="uid://c7onln7jqs58j" path="res://scenes/markers/cross.tscn" id="3_jmxqj"]

[sub_resource type="GDScript" id="GDScript_rai61"]
script/source = "extends Window

func _on_close_requested() -> void:
	get_tree().paused = false
	queue_free()
"

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ftyvd"]
bg_color = Color(0, 0, 0, 1)

[sub_resource type="PackedScene" id="PackedScene_0j73f"]
_bundled = {
"conn_count": 1,
"conns": PackedInt32Array(1073741827, 1073741826, 27, 26, 2, 0, 0),
"editable_instances": [],
"names": PackedStringArray("RegrasWindow", "Window", "process_mode", "title", "initial_position", "size", "theme_override_font_sizes/title_font_size", "script", "Panel", "Panel", "anchors_preset", "anchor_right", "anchor_bottom", "grow_horizontal", "grow_vertical", "theme_override_styles/panel", "RichTextLabel", "RichTextLabel", "layout_mode", "anchors_preset", "anchor_right", "anchor_bottom", "grow_horizontal", "grow_vertical", "bbcode_enabled", "text", "_on_close_requested", "close_requested"),
"node_count": 3,
"node_paths": [NodePath("."), NodePath("./Panel"), NodePath("."), NodePath(".")],
"nodes": PackedInt32Array(-1, -1, 1, 0, -1, 6, 2, 0, 3, 1, 4, 2, 5, 3, 6, 4, 7, 5, 0, 1073741824, 0, 9, 8, -1, 6, 10, 6, 11, 7, 12, 8, 13, 9, 14, 10, 15, 11, 0, 1073741825, 0, 17, 16, -1, 8, 18, 12, 19, 13, 20, 14, 21, 15, 22, 16, 23, 17, 24, 18, 25, 19, 0),
"variants": [2, "REGRAS", 2, Vector2i(500, 600), 24, SubResource("GDScript_rai61"), 15, 1.0, 1.0, 2, 2, SubResource("StyleBoxFlat_ftyvd"), 1, 15, 1.0, 1.0, 2, 2, true, "[center][b]Objetivo do Jogo:[/b][/center]

O objetivo do Jogo da Velha 2 é o mesmo que o do Jogo da Velha tradicional: ser o primeiro a completar uma linha, coluna ou diagonal com seus marcadores.

[center][b]Estrutura do Jogo:[/b][/center]

Cada quadrado do Jogo da Velha 2 contém um Jogo da Velha menor dentro dele. Isso significa que, além de jogar no tabuleiro principal, os jogadores jogarão principalmente em tabuleiros menores simultaneamente.

[center][b]Restrições de Movimento:[/b][/center]

Os jogadores não podem simplesmente colocar seus marcadores onde quiserem. O movimento de um jogador sempre dependerá do movimento anterior de seu adversário.

Por exemplo, o primeiro jogador a jogar pode escolher qualquer um dos quadrados menores para fazer sua jogada. Se ele escolher o quadrado superior esquerdo em um dos 9 jogos, o próximo jogador deve fazer sua jogada obrigatoriamente no quadrado superior esquerdo do tabuleiro. Já no tabuleiro superior, o segundo jogador escolher o quadrado inferior direito, o primeiro jogador deve, então, fazer sua próxima jogada em um dos campos do quadrado inferior direito.

[center][b]Progressão do Jogo:[/b][/center]

O jogo continua dessa forma, com os jogadores alternando entre os tabuleiros menores, até que um jogador complete uma linha, coluna ou diagonal no tabuleiro principal. Para preencher qualquer quadrado do tabuleiro principal, é necessário vencer no tabuleiro pequeno.

[center][b]Finalização de Quadrados Menores:[/b][/center]

Um tabuleiro menor é concluído igual qualquer outro jogo da velha, quando uma linha, coluna ou diagonal é preenchida. Quando um jogador faz uma jogada que mandaria a um quadrado finalizado, o próximo jogador pode fazer suas jogadas em qualquer um dos quadrados menores restantes, pois o tabuleiro alvo já foi finalizado e não pode mais ser preenchido. Caso ocorra um empate em um tabuleiro menor, este é resetado."],
"version": 3
}

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_tlq4f"]
bg_color = Color(1, 1, 1, 1)
border_width_left = 8
border_width_top = 8
border_width_right = 8
border_width_bottom = 8
border_color = Color(0.637843, 0.637843, 0.637843, 1)
corner_radius_top_left = 16
corner_radius_top_right = 16
corner_radius_bottom_right = 16
corner_radius_bottom_left = 16

[node name="InfoPanel" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_umelf")
game_over_scene = ExtResource("2_wrceg")
regras_scene = SubResource("PackedScene_0j73f")
circle_scene = ExtResource("2_06pow")
cross_scene = ExtResource("3_jmxqj")

[node name="VBoxContainer" type="VBoxContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="VSpace" type="Control" parent="VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
size_flags_stretch_ratio = 0.2

[node name="RegrasButton" type="Button" parent="VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 4
theme_override_font_sizes/font_size = 32
text = "REGRAS"

[node name="VSpace2" type="Control" parent="VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
size_flags_stretch_ratio = 0.2

[node name="PlayerAtual" type="Label" parent="VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 32
text = "Próximo Jogador:
"
horizontal_alignment = 1

[node name="PanelPlayerAtual" type="Panel" parent="VBoxContainer"]
unique_name_in_owner = true
custom_minimum_size = Vector2(150, 150)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme_override_styles/panel = SubResource("StyleBoxFlat_tlq4f")

[node name="VSpace3" type="Control" parent="VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
size_flags_stretch_ratio = 0.3

[node name="Player1" type="Label" parent="VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 32
text = "Vitórias do"
horizontal_alignment = 1

[node name="Player1Name" type="RichTextLabel" parent="VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
theme_override_font_sizes/normal_font_size = 32
bbcode_enabled = true
text = "[center]Player 1 ([color=green]O[/color]):[/center]"
fit_content = true

[node name="Player1ScoreLabel" type="Label" parent="VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
theme_override_font_sizes/font_size = 32
text = "0"
horizontal_alignment = 1

[node name="VSpace5" type="Control" parent="VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
size_flags_stretch_ratio = 0.2

[node name="Player2" type="Label" parent="VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 32
text = "Vitórias do"
horizontal_alignment = 1

[node name="Player2Name" type="RichTextLabel" parent="VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
theme_override_font_sizes/normal_font_size = 32
bbcode_enabled = true
text = "[center]Player 2 ([color=red]X[/color]):[/center]"
fit_content = true

[node name="Player2ScoreLabel" type="Label" parent="VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
theme_override_font_sizes/font_size = 32
text = "0"
horizontal_alignment = 1

[node name="VSpace6" type="Control" parent="VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
size_flags_stretch_ratio = 0.2

[node name="Empate" type="Label" parent="VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 32
text = "Empates:"
horizontal_alignment = 1

[node name="EmpateScoreLabel" type="Label" parent="VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
theme_override_font_sizes/font_size = 32
text = "0"
horizontal_alignment = 1

[node name="VSpace4" type="Control" parent="VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3

[connection signal="pressed" from="VBoxContainer/RegrasButton" to="." method="_on_regras_button_pressed"]
